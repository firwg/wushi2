{"title":"Initializing Open Feint...","scrolling":true,"loadflow":"","init":"\n$('body').addClass('textured');$('#header .loading').hide();$('.button').pretouch();if(OF.page.params.mode=='switch'){OF.introSwitch=true;}\nif(OF.introSwitch){$('.switch_flow').unhide(0);$('.intro_flow').hide();}\n$('.intro_str').text(_('Play %1 with your friends and other gamers!',OF.game.name));if(OF.page.params.for_new_account){alert(\"params for new account is true!\");$('#new_account').unhide(0);$('#intro_index .loading').hide();$('.with_decline').hide();}else{if(OF.page.params.preapproved){alert(\" params preapproved is true !\");$('.with_decline').hide();}else{alert(\" params pre approved is not ture!\");$('.without_decline').hide();}\nvar req=OF.api.request(\"/xp/devices/\"+OF.device.identifier+\"/users\",{httpParams:{timeout:100000},success:function(data){OF.users=data.users;if(OF.users.length==0){$('#intro_index .loading').fadeOut('fast',function(){$('#new_account').unhide();});}else{alert(\"found user !\");OF.user=data.users[0].user;$('#intro_index .loading').fadeOut('fast');if(true){alert(\"name not set!\");$('#new_account #user_name').val(OF.user.name);$('#new_account').unhide();}else{alert(\"name set! redirect to dashboard!\");OF.navigateToUrl('dashboard/user',{params:{user:OF.page.user}});}}},failure:function(data,status){if(status.match(/^0/)){alert(\"failed!!!\")\n$('#intro_index .loading').fadeOut('fast',function(){$('#new_account').unhide();});}else{alert(_('Sorry! Feint is offline right now. Please try again in a few minutes.'));OF.sendAction('dismiss');}}});}\n$('form').submit(function(){$(this).children('#submit').touch();return false;})\n$('#new_account #submit').touch(function(){if(!$('#new_account form').isLoading()){var name=$('#new_account #user_login').val();$('form').data('isLoading',true);OF.loader.show();$(this).html(_('Loading&hellip;'));OF.sendAction('loginUser',{email:name,user_id:OF.user.id,callback:'OF.page.boostrapCallback'});});$('#found_device .game_name').html(OF.game.name);$('#found_device .user_name').html(\"<pre>\"+OF.user.name+\"</pre>\");$('#found_device .feint_score').html(OF.user.gamer_score);if(OF.user.profile_picture_url){$('#found_device .avatar').css('background-image','url('+OF.user.profile_picture_url+')');}\nOF.page.boostrapCallback=function(status,response){$('#found_device form').isLoading(false);OF.loader.hide();if(status.match(/^2/)){OF.log('Successfully bootstrapped with user name: \"'+OF.user.name+'\" id: '+OF.user.id);OF.navigateToUrl(\"/intro/new_account\",{params:{user:OF.page.user}});}else if(status.match(/404/)){OF.alert(_('Account not found'),_('There is no Feint account with that username/email.'));}else if(status.match(/401/)){OF.alert(_('Incorrect Password'),_('The password entered is incorrect.'));}else{var message=(response.exception&&response.exception.message)?$.htmlDecode(response.exception.message):_('Check your username and password and try again');OF.alert(_('Authentication failed'),message);}};$('#found_device #submit').touch(function(){if(!$('#found_device form').isLoading()){if($.trim($('#found_device #user_password').val()).length){$('#found_device form').isLoading(true);OF.loader.show();$('#found_device #submit').html('Loading').append('&hellip;');OF.sendAction('loginUser',{user_id:OF.user.id,password:$('#found_device #user_password').val(),callback:'OF.page.boostrapCallback'});}else{OF.alert(_('Missing Password'),_('Enter your password to login as this user.'));}}});","resume":"","appear":"","html":"<div id='intro'>\n<div id='header'>\n<span class='loading'>\n<span class='spinner'></span>\n</span>\n</div>\n<div class='content'>\n<div id='intro_index'>\n<div class='switch_flow hidden'>\n<p class='t'>Create a new Feint account.</p>\n</div>\n<div class='intro_flow'>\n<p>\n<span class='intro_str'></span>\n</p>\n<div class='features'>\n<div class='feature_row'>\n<div class='feature' id='leaderboards'>\n<div class='icon'></div>\n<div class='title t'>\nPost<br>\nHigh Scores\n</div>\n</div>\n<div class='feature' id='friends'>\n<div class='icon'></div>\n<div class='title t'>\nPlay<br>\nwith Friends\n</div>\n</div>\n<div class='feature' id='achievements'>\n<div class='icon'></div>\n<div class='title t'>\nEarn<br>\nAchievements\n</div>\n</div>\n<div class='feature' id='games'>\n<div class='icon'></div>\n<div class='title t'>\nDiscover<br>\nGames\n</div>\n</div>\n</div>\n</div>\n<div class='loading'>\n<div class='spinner'></div>\n<span class='t'>Loading</span>\n</div>\n</div>\n<div class='hidden' id='new_account'>\n<form>\n<div class='input_field'>\n<label class='t'>Feint Name:</label>\n<input id='user_login' name='user[login]' type='text'>\n</div>\n<div class='button default t' id='submit'>Create</div>\n</form>\n<div class='with_decline'>\n<div class='button_row'>\n<div class='button_wrapper'>\n<div class='button t' data-action='decline' data-event='intro,decline'>\nI don't want<br>\nto use Feint\n</div>\n</div>\n<div class='button_wrapper'>\n<div class='button t' data-href='intro/login'>\nI already have<br>\na Feint account\n</div>\n</div>\n</div>\n</div>\n<div class='without_decline'>\n<div class='button t' data-href='intro/login'>\nI already have a Feint account\n</div>\n</div>\n<div class='intro_flow'>\n<div class='t' data-href='intro/tos' id='intro_legal'>\nGame Data will automatically be stored securely on our servers according to our\n<span data-href='intro/tos'>Terms and Conditions.</span>\n</div>\n</div>\n</div>\n<div class='hidden' id='found_device'>\n<div class='inset_cell user'>\n<div class='image avatar'>\n<div class='overlay'></div>\n</div>\n<div class='title user_name'></div>\n<div class='feint_score'></div>\n</div>\n<form>\n<div class='input_field'>\n<div class='t' data-href='intro/forgot_password' id='forgot_password'>Forgot password?</div>\n<label class='t'>Password:</label>\n<input id='user_password' name='user[password]' type='password'>\n</div>\n<div class='button default t' id='submit'>Start Playing!</div>\n</form>\n<div class='with_decline'>\n<div class='button_row'>\n<div class='button_wrapper'>\n<div class='button t' data-action='decline'>\nI don't want<br>\nto use Feint\n</div>\n</div>\n<div class='button_wrapper'>\n<div class='button t' data-href='intro/login'>\nUse Another<br>\nAccount\n</div>\n</div>\n</div>\n</div>\n<div class='without_decline'>\n<div class='button t' data-href='intro/login'>\nUse Another Account\n</div>\n</div>\n</div>\n</div>\n\n</div>\n<div id='footer'></div>\n</div>\n"}