{"title":"Feint Name","scrolling":true,"loadflow":"","init":"\nOF.setActiveFootermenu();OF.setFootermenu();$('body').addClass('textured');$('#subheader').text(_(OF.page.title));$('.current_info .value').html(OF.user.name);$('#change_username_form').submit(function(){var field=$('#user_name');field.val($.trim(field.val()));var newName=field.val();if(newName.length){if(check_user_name(newName)){OF.api.request('/xp/users/'+OF.user.id,{method:'PUT',loader:'#submit',params:{user:{name:newName},},success:function(){OF.user.name=newName;OF.goBack();OF.alert(_('Success'),_('You have changed your name to: %1',OF.user.name));},on404:function(data){},});}}else{OF.alert(_('Missing Data'),_('Enter a new username in order to change your name.'));}\nreturn false;});function check_user_name(name){var flag=true;var mail_reg=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/;var phone_reg=/^(13[0-9]|15[0|3|6|7|8|9]|18[8|9|6])d{8}$/;var spage_reg=/ /;if(mail_reg.test(name)){flag=false;OF.alert('\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef','\u4e3a\u4e86\u4fdd\u62a4\u60a8\u7684\u9690\u79c1\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u90ae\u7bb1\u4f5c\u4e3a\u7528\u6237\u540d\u3002');}else if(spage_reg.test(name)){flag=false;OF.alert(\"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef\",\"\u60a8\u8f93\u5165\u7684\u7528\u6237\u540d\u542b\u6709\u7a7a\u683c,\u8bf7\u91cd\u65b0\u8f93\u5165\");}else if(phone_reg.test(name)){flag=false;OF.alert(\"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef\",\"\u4e3a\u4e86\u4fdd\u62a4\u60a8\u7684\u9690\u79c1\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u624b\u673a\u53f7\u4f5c\u4e3a\u7528\u6237\u540d\u3002\");}else if(name.length>20){flag=false;OF.alert(\"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef\",\"\u957f\u5ea6\u4e0d\u5f97\u8d85\u8fc720\u4e2a\u5b57\u3002\")}else{}\nreturn flag;}\n$('#submit').touch(function(){$('#change_username_form').submit();});","resume":"\nOF.setActiveFootermenu();","appear":"","html":"<div id='settings'>\n<div class='t' id='header'>Settings</div>\n<div id='subheader'></div>\n<div class='current_info'>\n<div class='label t'>Current Feint Name</div>\n<div class='value user_name'></div>\n</div>\n<form id='change_username_form'>\n<div class='input_field'>\n<label class='t'>New Feint Name</label>\n<input id='user_name' name='user[name]' type='text'>\n</div>\n<div class='button t' id='submit'>Okay</div>\n</form>\n\n<br clear='both'>\n<div id='footer'>\n<div class='footer_menu' id='footer_menu_for_2_1' style='display:none'>\n<ul class='footer_tabs'>\n<li class='footer_tab active'>\n<label class='user_tab'>\u6211\u7684\u7a7a\u95f4</label>\n<div class='right_bar'></div>\n</li>\n<li class='footer_tab' style='border-right:none'>\n<label class='game_tab'>\u6e38\u620f\u63a8\u8350</label>\n<div class='right_bar'></div>\n</li>\n</ul>\n</div>\n</div>\n<br clear='both'>\n<div class='footer_menu' id='footer_menu_for_2_2'>\n<ul class='footer_tabs'>\n<li class='footer_tab active'>\n<label class='user_tab'>\u6211\u7684\u7a7a\u95f4</label>\n<div class='right_bar'></div>\n</li>\n<li class='footer_tab' style='border-right:none'>\n<label class='game_tab'>\u6e38\u620f\u63a8\u8350</label>\n<div class='right_bar'></div>\n</li>\n</ul>\n</div>\n</div>\n"}