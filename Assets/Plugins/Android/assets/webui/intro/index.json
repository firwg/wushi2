{"title":"Initializing Open Feint...","scrolling":true,"loadflow":"","init":"\n$('body').addClass('textured');$('#header .loading').hide();$('.button').pretouch();if(OF.page.params.mode=='switch'){OF.introSwitch=true;}\nif(OF.introSwitch){$('.switch_flow').unhide(0);$('.intro_flow').hide();}\nif(OF.user.id){isLogin=true;}else{isLogin=false;}\n$('.intro_str').text(_('Play %1 with your friends and other gamers!',OF.game.name));if(OF.page.params.spotlight){$('#submit').text('\u53bb\u4e5d\u57ce\u6e38\u620f\u4e2d\u5fc3');}\nif(OF.page.params.mode){$(\"#submit\").text(\"\u53bb\u4e5d\u57ce\u6e38\u620f\u4e2d\u5fc3\");}\n$('#have_account').touch(function(){OF.push(\"intro/login\",{params:OF.page.params});});if(OF.page.params.for_new_account){var requ=OF.api(\"/xp/users\",{httpParams:{timeout:100000},method:'POST',params:{for_new_account:'true',for_intro_index_optimization:'true'},success:function(data){OF.page.user=data.user;$('#new_account #user_login').val(OF.page.user.name);$(\"#user_login\").focus();$('#new_account').unhide();$(\".intro_flow\").unhide();$(\"#user_login_label\").empty().append(\"\u586b\u5199\u7528\u6237\u540d\uff1a\");$('#intro_index .loading').hide();$('.with_decline').hide();},failure:function(data,status){if(status.match(/^0/)){$('#intro_index .loading').fadeOut('fast',function(){$('#new_account').unhide();});}else{alert(_('Sorry! Feint is offline right now. Please try again in a few minutes.'));OF.sendAction('dismiss');}}});}else{if(OF.page.params.preapproved){$('.with_decline').hide();}else{$('.without_decline').hide();}\nvar req=OF.api(\"/xp/devices/\"+OF.device.identifier+\"/users\",{httpParams:{timeout:100000},params:{for_new_account:'true',for_better_optimization:'true',for_intro_index_optimization:'true'},success:function(data){OF.users=data.users;OF.page.params.total_entries=data.total_entries;OF.page.params.total_pages=data.total_pages\nif(OF.users.length==0){$('#intro_index .loading').fadeOut('fast',function(){$(\"#user_login_label\").empty().append(\"\u586b\u5199\u7528\u6237\u540d\uff1a\");$(\"#user_login\").focus();$('#new_account').unhide();});}\nelse if(OF.users.length==1){OF.page.user=data.users[0].user;$('#intro_index .loading').fadeOut('fast');if(OF.page.user.has_set_name=='0'||OF.page.user.has_set_name==0){$('#new_account #user_login').val(OF.page.user.name);$('#new_account').unhide();}else{$('#new_account #user_login').hide();$('#new_account #user_login').val(OF.page.user.name);$('#new_account #user_login_label').append(OF.page.user.name);$('#new_account').unhide();}}else{OF.page.params.users=OF.users;OF.navigateToUrl(\"intro/multiple_accounts\",{params:OF.page.params})}},failure:function(data,status){if(status.match(/^0/)){$('#intro_index .loading').fadeOut('fast',function(){$('#new_account').unhide();});}else{alert(_('Sorry! Feint is offline right now. Please try again in a few minutes.'));OF.sendAction('dismiss');}}});}\n$('form').submit(function(){$(this).children('#submit').touch();return false;})\n$('#new_account #submit').touch(function(){var need_redirect=\"false\";if(OF.page.params.redirect_screen){need_redirect=\"true\"}\nif(!$('#new_account form').isLoading()){var name=$('#new_account #user_login').val();if(name.length>0){if(check_user_name(name)){$('#new_account form').isLoading(true);$(\"#new_account #submit\").html(_('Loading')).append('&hellip;');OF.loader.show();OF.sendAction('loginUser',{email:name,user_id:OF.page.user.id,callback:'OF.page.boostrapCallback',need_redirect:need_redirect});}}else{OF.alert(_('Enter a name'),_('Enter your desired username in the textfield to continue.'));}}});function check_user_name(name){var flag=true;var mail_reg=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/;var phone_reg=/^(13[0-9]|15[0|3|6|7|8|9]|18[8|9|6])d{8}$/;var space_reg=/ /;if(mail_reg.test(name)){flag=false;OF.alert('\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef','\u4e3a\u4e86\u4fdd\u62a4\u60a8\u7684\u9690\u79c1\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u90ae\u7bb1\u4f5c\u4e3a\u7528\u6237\u540d\u3002');}else if(space_reg.test(name)){flag=false;OF.alert(\"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef\",\"\u60a8\u8f93\u5165\u7684\u7528\u6237\u540d\u542b\u6709\u7a7a\u683c,\u8bf7\u91cd\u65b0\u8f93\u5165\");}else if(phone_reg.test(name)){flag=false;OF.alert(\"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef\",\"\u4e3a\u4e86\u62a5\u9b42\u60a8\u7684\u9690\u79c1\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u624b\u673a\u53f7\u4f5c\u4e3a\u7528\u6237\u540d\u3002\");}else if(name.length>20){flag=false;OF.alert(\"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef\",\"\u957f\u5ea6\u4e0d\u5f97\u8d85\u8fc720\u4e2a\u5b57\u3002\")}else{}\nreturn flag;}\nOF.page.boostrapCallback=function(status,response){$('#new_account form').isLoading(false);if(OF.page.params.mode){$('#new_account #submit').html('\u53bb\u4e5d\u57ce\u6e38\u620f\u4e2d\u5fc3');}else{$('#new_account #submit').html(_('Start Playing!'));}\nOF.loader.hide();OF.log(status+\" test status output!\");if(status.match(/^2/)){if(isLogin){OF.user=OF.page.user;if(OF.sdkSupportThe9Download){OF.push('dashboard/user');}else{OF.sendAction('dashboard');}}else{OF.sendAction('dismiss');}}else if(status.match(/404/)){OF.alert(_('Account not found'),\"\u8be5\u624b\u673a\u53f7\uff0c\u90ae\u7bb1\u6216\u7528\u6237\u540d\u4e0d\u5b58\u5728\");}else if(status.match(/401/)){OF.alert(_('Incorrect Password'),_('The password entered is incorrect.'));}else if(status.match(/8080/)){OF.sendAction(\"openSpecifyDashboardScreen\",OF.page.params);}else{var message=(response.exception&&response.exception.message)?$.htmlDecode(response.exception.message):'Check your username and password and try again sdfasfdsd';OF.alert(_('Authentication failed'),message);$('#new_account form').isLoading(false);}};$(\".without_decline\").touch(function(){if(OF.page.params.mode){OF.page.params.mode=\"switch\"\nOF.navigateToUrl(\"intro/login\",{params:OF.page.params});}else{OF.navigateToUrl(\"intro/login\",{params:OF.page.params});}});","resume":"\n$('#new_account form').isLoading(false);$('#new_account #submit').html(_('Start Playing!'));if(typeof(OF.users)!='undefined'&&OF.users.length>1){OF.sendAction(\"dismiss\");}else if(typeof(OF.users)!='undefined'&&OF.users.length==1){}else{OF.sendAction(\"dismiss\");}","appear":"","html":"<div id='intro'>\n<div id='header'>\n<span class='loading'>\n<span class='spinner'></span>\n</span>\n</div>\n<div class='content'>\n<div id='intro_index'>\n<div class='switch_flow hidden'>\n<p class='t'>Create a new Feint account.</p>\n</div>\n<div class='intro_flow'>\n<p>\n<span class='intro_str'></span>\n</p>\n<div class='hidden' id='spotlight_flow'>\n<p>Join The9 Game Zone community to connect with friends and other gamers</p>\n</div>\n<div class='features'>\n<div class='feature_row'>\n<div class='feature' id='leaderboards'>\n<div class='icon'></div>\n<div class='title t'>\nPost<br>\nHigh Scores\n</div>\n</div>\n<div class='feature' id='friends'>\n<div class='icon'></div>\n<div class='title t'>\nPlay<br>\nwith Friends\n</div>\n</div>\n<div class='feature' id='achievements'>\n<div class='icon'></div>\n<div class='title t'>\nEarn<br>\nAchievements\n</div>\n</div>\n<div class='feature' id='games'>\n<div class='icon'></div>\n<div class='title t'>\nDiscover<br>\nGames\n</div>\n</div>\n</div>\n</div>\n<div class='loading'>\n<div class='spinner'></div>\n<span class='t'>Loading</span>\n</div>\n</div>\n<div class='hidden' id='new_account'>\n<form>\n<div class='input_field'>\n<label class='t' id='user_login_label'>Feint Name:</label>\n<input id='user_login' name='user[login]' type='text'>\n</div>\n<div class='button default t' id='submit'>Start Playing!</div>\n</form>\n<div class='with_decline'>\n<div class='button_row'>\n<div class='button_wrapper'>\n<div class='button t' data-action='decline'>\nI don't want<br>\nto use Feint\n</div>\n</div>\n<div class='button_wrapper'>\n<div class='button t' id='have_account'>\nI already have<br>\na Feint account\n</div>\n</div>\n</div>\n</div>\n<div class='without_decline'>\n<div class='button t'>I already have a Feint account</div>\n</div>\n<div class='intro_flow'>\n<div class='t' data-href='intro/tos' id='intro_legal'>\nGame Data will automatically be stored securely on our servers according to our\n<span data-href='intro/tos'>Terms and Conditions.</span>\n</div>\n</div>\n</div>\n</div>\n\n</div>\n<div id='footer'></div>\n</div>\n"}